<!DOCTYPE html>
<html lang="en">

<head>
	<title>HTML puppeteer</title>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<script src="libraries/jquery-3.6.0.js"></script>
	<script src="libraries/handlebars.min-v4.7.7.js"></script>
	<!-- see https://github.com/lodash/lodash/wiki/FP-Guide#installation -->
	<script src="libraries/lodash4_lodash.min.js_lodash.fp.min.js"></script>
	<link href="ro/go/adrhc/app/css/main.css" rel="stylesheet">
	<link href="ro/go/adrhc/app/css/responstable.css" rel="stylesheet">
</head>

<body>
<script>const fp = _.noConflict()</script>
<script src="9component-container.js" type="module"></script>

<div class="container">
	<div class="section title">PeriodicallyStateChangingComponent</div>
	<div class="section flex-center fill-available buttons">
		<button disabled name="remove">Close (aka remove) child</button>
		<button name="create">Create and render the child</button>
	</div>
	<div class="section title">parent debugger</div>
	<div class="section" id="parent-debugger">No debugging data available yet!</div>
	<div class="section title">children (message) debugger</div>
	<div class="section" id="children-debugger">No debugging data available yet!</div>
	<div class="section title">children (cats) debugger</div>
	<div class="section" id="cats-debugger">No debugging data available yet!</div>
	<div class="section title">Component's view (parent and its children)</div>
	<div class="section flex-column fit-content bgc-aliceblue"
	     data-initial-state='{"text": "this is the parent state displayed by its view (below is the child component)", "message": "The \"message\" children was <i>automatically</i> created!"}'
	     data-template-id="parent-template"
	     data-type="simple-container"
	     id="parent-component"></div>
</div>

<script id="parent-template" type="text/x-handlebars-template">
	<div class="part parent">{{text}}</div>
	<div class="part" data-part="message" data-type="simple" data-template-id="message-template"
	     data-view-removal-strategy="USE_HTML"
	     data-on-remove-view-html='"message" child component was removed!'>
		The "message" child is not available yet!
	</div>
	<div class="part" data-part="cats" data-template-id="table-template"
	     data-view-removal-strategy="USE_HTML"
	     data-on-remove-view-html='"cats" child component was removed!'>
		The "cats" child is not available yet!
	</div>
</script>

<script id="message-template" type="text/x-handlebars-template">
	{{#if message}}{{{message}}}{{else}}The "message" children is not available yet!{{/if}}
</script>

<script id="table-template" type="text/x-handlebars-template">
	<table class="responstable">
		<thead>
		<tr>
			<th colSpan="2">Generated cats</th>
		</tr>
		</thead>
		{{#each cats}}
			<tr>
				<td>{{id}}</td>
				<td>{{name}}</td>
			</tr>
		{{/each}}
	</table>
</script>

</body>

</html>
