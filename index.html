<!DOCTYPE html>
<html lang="en">

<head>
    <title>JavaScript DOM test</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/responstable-table.css">
    <link rel="stylesheet" href="css/util.css">
    <link rel="stylesheet" href="css/table-editor.css">
    <link rel="stylesheet" href="css/adrhc/go/ro/jquery-widgets/dyna-sel-one.css">
    <script src="libraries/modernizr-custom.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/mustache@latest"></script>
</head>

<body>
<div id="dyna-sel-one" class="dyna-sel-one-comp"></div>

<div class="personsTable">
    <label for="personsTable">dublu click pe antetul tabelului pt a creea un nou rand</label>
    <table id="personsTable" class="responstable">
        <thead>
        <tr data-owner="personsTable" data-id="newItemBtn">
            <th>Id</th>
            <th data-th="Details"><span>First name</span></th>
            <th>Last name</th>
            <th>Cats</th>
        </tr>
        </thead>
    </table>
</div>

<script id="readOnlyRowTmpl" type="x-tmpl-mustache">
    <tr data-owner="personsTable" data-id="{{item.id}}">
        <td>{{item.id}}</td>
        <td>{{item.firstName}}</td>
        <td>{{item.lastName}}</td>
        <td>{{#item.cats}}{{{.}}}{{/item.cats}}</td>
    </tr>

</script>

<template id="editableRowTmpl">
    <tr data-owner="personsTable" data-id="{{item.id}}" class="editor">
        <td>{{htmlId}}
            <input type="hidden" name="id" value="{{item.id}}">
        </td>
        <td>
            <input type="text" name="firstName" value="{{item.firstName}}" data-focus-me="true">
        </td>
        <td>
            <input type="text" name="lastName" value="{{item.lastName}}">
        </td>
        <td>
            <table id="catsTable" class="responstable">
                <thead>
                <tr data-owner="catsTable">
                    <th><button data-owner="catsTable" type="button" name="newItemBtn">new cat</button></th>
                </tr>
                </thead>
            </table>
        </td>
    </tr>
</template>

<template id="readOnlyCatsRowTmpl">
    <tr data-owner="catsTable" data-id="{{item.id}}">
        <td>{{item.name}}</td>
    </tr>
</template>

<template id="editableCatsRowTmpl">
    <tr data-owner="catsTable" data-id="{{item.id}}" class="editor">
        <td>
            <input type="hidden" name="id" value="{{item.id}}">
            <input type="text" name="name" value="{{item.name}}" data-focus-me="true">
        </td>
    </tr>
</template>

<!-- utils -->
<script src="js/adrhc/go/ro/jquery-widgets/util/ajax-utils.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/util/entity-utils.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/util/form-utils.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/util/html-utils.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/util/rest-utils.js"></script>
<!-- helpers -->
<script src="js/adrhc/go/ro/jquery-widgets/helper/cached-ajax.js"></script>
<!-- adapters -->
<script src="js/adrhc/go/ro/jquery-widgets/adapter/table-element-adapter.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/adapter/mustache-table-elem-adapter.js"></script>
<!-- model -->
<script src="js/adrhc/go/ro/jquery-widgets/model/IdentifiableEntity.js"></script>
<!-- row-editor -->
<script src="js/adrhc/go/ro/jquery-widgets/components/row-editor/model/row-editor-state.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/row-editor/view/row-editor-view.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/row-editor/row-editor.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/row-editor/factories/row-editor-factory.js"></script>
<!-- table-editor -->
<script src="js/adrhc/go/ro/jquery-widgets/components/table-editor/model/state-change.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/table-editor/model/table-editor-state.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/table-editor/repository/table-editor-repository.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/table-editor/repository/in-memory-table-editor-repository.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/views/read-only-row.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/row-editor/view/buttons-row.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/row-editor/view/editable-row.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/table-editor/view/table-editor-view.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/table-editor/table-editor.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/table-editor/factories/table-editor-factory.js"></script>
<!-- dynamic-select-one -->
<script src="js/adrhc/go/ro/jquery-widgets/components/dynamic-select-one/repository/dyna-sel-one-repository.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/dynamic-select-one/model/dyna-sel-one-item.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/dynamic-select-one/model/dynamic-select-one-state.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/dynamic-select-one/view/dynamic-select-one-view.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/dynamic-select-one/dynamic-select-one.js"></script>
<script src="js/adrhc/go/ro/jquery-widgets/components/dynamic-select-one/factories/dynamic-select-one-factory.js"></script>
<!-- person -->
<script src="js/model/person.js"></script>
<script src="js/person-row-editor/person-row-editor.js"></script>
<script src="js/person-row-editor/factories/person-row-editor-factory.js"></script>
<script src="js/person-row-editor/factories/cats-table-editor-factory.js"></script>
<script src="js/repositories/persons-repository.js"></script>
<script src="js/repositories/in-memory-persons-repository.js"></script>
<!-- index -->
<script src="js/index.js"></script>
</body>

</html>
