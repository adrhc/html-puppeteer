<!DOCTYPE html>
<html lang="en">

<head>
    <title>JavaScript components</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/ro/go/adrhc/responstable-table.css">
    <link rel="stylesheet" href="css/library-customizations/responstable-table.css">
    <link rel="stylesheet" href="css/ro/go/adrhc/util.css">
    <link rel="stylesheet" href="css/ro/go/adrhc/dyna-sel-one.css">
    <link rel="stylesheet" href="css/app.css">
    <script src="libraries/modernizr-custom.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/mustache@latest"></script>
    <script src="libraries/handlebars-1.0.rc.1.min.js"></script>
</head>

<body>
<div id="dyna-sel-one" class="dyna-sel-one-comp" data-owner="personSearch" data-placeholder="first name" data-focus="true"
     data-name="firstName" data-value="personId" data-description="person-description" data-options-to-show="5"></div>

<!-- persons table -->
<div class="personsTable">
    <table id="personsTable" class="responstable">
        <thead>
        <tr data-owner="personsTable">
            <th>Id</th>
            <th data-th="Details"><span>First name</span></th>
            <th>Last name</th>
            <th>Friend</th>
            <th>Cats</th>
            <th>
                <div class="buttons">
                    <img data-owner="personsTable" data-btn="reload" alt="reload"
                         src="images/ro/go/adrhc/reload-button-32.png" title="reîncarcă datele"/>
                    <img data-owner="personsTable" data-btn="showAdd" alt="show add"
                         src="images/ro/go/adrhc/add-button-32.png" title="către adăugare"/>
                </div>
            </th>
        </tr>
        </thead>
    </table>
</div>

<!-- READ-ONLY row template -->
<template id="personsTableRowTmpl">
    <tr data-owner="personsTable" data-id="{{id}}">
        <td>{{id}}</td>
        <td>{{firstName}}</td>
        <td>{{lastName}}</td>
        <td>{{friend.title}}</td>
        <td>{{#each cats}}
            <div>{{{this.name}}}, {{{this.person.title}}</div>
            {{/each}}
        </td>
        <td>
            <div class="buttons">
                <img data-owner="personsTable" data-btn="showDelete" alt="show delete"
                     src="images/ro/go/adrhc/delete-button-32.png" title="către ștergere"/>
                <img data-owner="personsTable" data-btn="showEdit" alt="show edit"
                     src="images/ro/go/adrhc/edit-button-32.png" title="către editare"/>
            </div>
        </td>
    </tr>
</template>

<!-- DELETE row template -->
<template id="personsTableDeletableRowTmpl">
    <tr data-owner="personsTable" data-id="{{id}}" class="deletable-row">
        <td>{{id}}</td>
        <td>{{firstName}}</td>
        <td>{{lastName}}</td>
        <td>{{friend.title}}</td>
        <td>{{#each cats}}
            <div>{{{this.name}}}, {{{this.person.title}}</div>
            {{/each}}
        </td>
        <td>
            <div class="buttons">
                <img data-owner="personsTable" data-btn="cancel" alt="cancel"
                     src="images/ro/go/adrhc/cancel-button-32.png" title="anulează ștergerea"/>
                <img data-owner="personsTable" data-btn="delete" alt="delete"
                     src="images/ro/go/adrhc/delete-button-32.png" title="confirmă ștergerea"/>
            </div>
        </td>
    </tr>
    <!--    <tr data-owner="personsTable" data-secondary-row-part="{{id}}">-->
    <!--        <td colspan="4">secondary-row-part</td>-->
    <!--    </tr>-->
</template>

<!-- EDIT row template -->
<template id="personsTableEditableRowTmpl">
    <tr data-owner="personsTable" data-id="{{id}}">
        <td>
            <input data-owner="personsTable" type="hidden" name="id" value="{{id}}">{{id}}
        </td>
        <td>
            <input data-owner="personsTable" type="text" autocomplete="off"
                   name="firstName" value="{{firstName}}" data-focus-me="true">
        </td>
        <td>
            <input data-owner="personsTable" type="text" autocomplete="off" name="lastName" value="{{lastName}}">
        </td>
        <td><!-- friend -->
            <div data-owner="dyna-sel-one" data-id="dyna-sel-one" class="dyna-sel-one-comp" data-placeholder="first name"
                 data-name="firstName" data-value="personId" data-description="person-description"></div>
        </td>
        <td>
            <table data-id="catsTable" class="catsTable">
                <thead>
                <tr data-owner="catsTable">
                    <th>Name</th>
                    <th>Owner</th>
                    <th>
                        <div class="buttons">
<!--                            <img data-owner="catsTable" data-btn="reload" alt="reload"-->
<!--                                 src="images/ro/go/adrhc/reload-button-32.png"/>-->
                            <img data-owner="catsTable" data-btn="add" alt="add"
                                 src="images/ro/go/adrhc/add-button-32.png" title="adaugă"/>
                        </div>
                    </th>
                </tr>
                </thead>
            </table>
        </td>
        <td>
            <div class="buttons">
                <img data-owner="personsTable" data-btn="cancel" alt="cancel"
                     src="images/ro/go/adrhc/cancel-button-32.png" title="anulează modificarea"/>
                <img data-owner="personsTable" data-btn="update" alt="update"
                     src="images/ro/go/adrhc/save-button-32.png" title="confirmă salvarea"/>
            </div>
        </td>
    </tr>
    <!--    <tr data-owner="personsTable" data-secondary-row-part="{{id}}">-->
    <!--        <td colspan="4">secondary-row-part</td>-->
    <!--    </tr>-->
</template>

<template id="editableCatsRowTmpl">
    <tr data-owner="catsTable" data-id="{{id}}">
        <td>
            <input data-owner="catsTable" type="hidden" name="id" value="{{id}}">
            <input data-owner="catsTable" type="text" autocomplete="off"
                   name="name" value="{{name}}" data-focus-me="true">
        </td>
        <td>
            <div data-owner="dyna-sel-one" data-id="dyna-sel-one" class="dyna-sel-one-comp" data-placeholder="first name"
                 data-name="firstName" data-value="personId" data-description="person-description"></div>
        </td>
        <td>
            <div class="buttons">
                <img data-owner="catsTable" data-btn="delete" alt="delete"
                     src="images/ro/go/adrhc/delete-button-32.png" title="șterge"/>
            </div>
        </td>
    </tr>
</template>

<!-- utils -->
<script src="js/ro/go/adrhc/jquery-widgets/utils/ajax-utils.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/array-utils.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/assertion-utils.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/converters.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/css-utils.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/entity-utils.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/dom-utils.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/form-utils.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/html-utils.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/utils/rest-utils.js"></script>
<!-- helpers -->
<script src="js/ro/go/adrhc/jquery-widgets/helper/cached-html-template.js"></script>
<!-- adapters -->
<script src="js/ro/go/adrhc/jquery-widgets/adapter/table-element-adapter.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/adapter/mustache-table-elem-adapter.js"></script>
<!-- model -->
<script src="js/ro/go/adrhc/jquery-widgets/model/deque.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/model/IdentifiableEntity.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/model/error/server-error.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/model/error/simple-error.js"></script>
<!-- repositories -->
<script src="js/ro/go/adrhc/jquery-widgets/repositories/crud-repository.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/repositories/error-handler/repo-error-handler.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/repositories/error-handler/default-repo-error-handler.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/repositories/default-crud-repository.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/repositories/in-memory/in-memory-crud-repository.js"></script>
<!-- components -->
<!-- components/model -->
<script src="js/ro/go/adrhc/jquery-widgets/components/model/state/StateChange.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/model/state/TaggedStateChange.js"></script><script src="js/ro/go/adrhc/jquery-widgets/components/model/state/DeleteStateChange.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/model/state/ErrorStateChange.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/state/change-collector/StateChangesCollector.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/state/StateHolder.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/state/TaggingStateHolder.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/state/mapper/IdentityStateChangeMapper.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/state/mapper/TaggingStateChangeMapper.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/state/SimpleListState.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/state/CrudListState.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/model/on-off/swapping-details.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/model/on-off/swapping-state.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/model/ComponentConfiguration.js"></script>
<!-- components/views -->
<script src="js/ro/go/adrhc/jquery-widgets/components/views/abstract-view.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/views/abstract-table-based-view.js"></script>
<!-- components/abstract* -->
<script src="js/ro/go/adrhc/jquery-widgets/components/helpers/composite/ChildComponentFactory.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/helpers/composite/ChildishBehaviour.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/helpers/composite/DefaultChildishBehaviour.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/helpers/composite/DefaultTableChildishBehaviour.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/helpers/composite/CompositeBehaviour.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/helpers/StateChangesDispatcher.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/config/jquery-widgets-config.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/helpers/entity-extractor/EntityExtractor.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/helpers/entity-extractor/DefaultEntityExtractor.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/AbstractComponent.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/abstract-table-based-component.js"></script>
<!-- dynamic-select-one -->
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/repository/dyna-sel-one-repository.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/repository/default-dyna-sel-one-repository.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/repository/in-memory-dyna-sel-one-repository.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/model/dyna-sel-one-item.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/model/dyna-sel-one-option.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/model/dyna-sel-one-state.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/model/DynaSelOneConfig.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/view/dynamic-select-one-view.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/DynaSelOneChildishBehaviour.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/DynaSelOneOnRowChildishBehaviour.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/DynamicSelectOneComponent.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/dynamic-select-one/factories/dynamic-select-one-factory.js"></script>
<!-- components/simple-list -->
<script src="js/ro/go/adrhc/jquery-widgets/components/simple-list/view/SimpleListView.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/simple-list/SimpleListComponent.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/simple-list/factories/SimpleListFactory.js"></script>
<!-- components/simple-row -->
<script src="js/ro/go/adrhc/jquery-widgets/components/simple-row/model/RowValues.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/simple-row/view/simple-row-view.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/simple-row/simple-row.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/simple-row/identifiable-row.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/simple-row/factories/simple-row-factory.js"></script>
<!-- components/elastic-list -->
<script src="js/ro/go/adrhc/jquery-widgets/components/elastic-list/ElasticListCompositeBehaviour.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/elastic-list/elastic-list-entity-extractor.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/elastic-list/ElasticListComponent.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/elastic-list/elastic-list-factory.js"></script>
<!-- components/create-delete-list -->
<script src="js/ro/go/adrhc/jquery-widgets/components/create-delete-list/create-delete-list.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/create-delete-list/create-delete-list-factory.js"></script>
<!-- components/selectable-list -->
<script src="js/ro/go/adrhc/jquery-widgets/components/selectable-list/selectable-swapping-data.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/selectable-list/selectable-list-state.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/selectable-list/selectable-list-entity-extractor.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/selectable-list/selectable-list.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/selectable-list/selectable-list-factory.js"></script>
<!-- components/editable-list -->
<script src="js/ro/go/adrhc/jquery-widgets/components/editable-list/editable-list-state.js"></script>
<script src="js/components/person-row-editor/cats-list-state.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/editable-list/editable-list.js"></script>
<script src="js/ro/go/adrhc/jquery-widgets/components/editable-list/editable-list-factory.js"></script>
<!-- app -->
<script src="js/model/person.js"></script>
<script src="js/repositories/remote/db-dyna-sel-one-repository.js"></script>
<script src="js/repositories/remote/db-crud-repository.js"></script>
<script src="js/repositories/in-memory/in-memory-persons-repository.js"></script>
<script src="js/mock/db-mock.js"></script>
<script src="js/components/person-row-editor/cats-editable-list-child-factory.js"></script>
<script src="js/components/person-row-editor/cats-create-delete-list-child-factory.js"></script>
<!-- index -->
<script src="js/10person-with-cats.js"></script>
</body>

</html>
